<DOCTYPE!>
<html>
	<head>
		<title>Toit Végétable</title>
	</head>
	
	<script>
		/*document.getElementById("waves").style.height= pourcentage_px + 'px';*/

		document.addEventListener('keydown', evt =>
		{
    		if (evt.key === 'Escape') 
			{
        		document.getElementById('main').style.filter='blur(0px)';
				document.getElementById('dialog').style.display='none';
    		}
		});

		let temp =[12, 45, 67, 2, 78, 10]; //valeur des taux d'humiditée mesurés 
		let caseActuelle = 0;
		let pourcentage = 0;

		function showBox()
		{
			let pourcentage_px = pourcentage * 1.8;
			document.getElementById('main').style.filter='blur(20px)';document.getElementById('main').style.transitionDuration='200ms';document.getElementById('dialog').style.display='block';
			document.getElementById('pourcentage').innerHTML= pourcentage + "%";
			document.getElementById('caseNumber').innerHTML= caseActuelle;
			document.querySelector('.waves').style.height=pourcentage_px+'px';		
		}

		function stopBack()
		{
			var base = document.getElementsByClassName('base');
			base.disabled = true;

		}
	</script>

	<style>
	.background{
		background-color:black;
	}
	
	.text{
	 color:white;
	}
	
    .base {
		/*filter:blur(5px); Pour plus tard*/
        width: 350px;
        height: 510px;
        transform: translate(-50%, -50%) skew(20deg);
        background: rgb(255, 255, 255);
	    border-radius: 25px;
	    position: absolute;
		top: 50vh;
		bottom: 50vh;
		left:50vw;
		right:50vw;
    }

    .case {
        width: 167.5px;
        height: 160px;
        border: 50px double black;
        transform: translate(-49%, -51%);
        background: white;
	    border-radius: 25px;
	    position: absolute;
		cursor: pointer;
		box-shadow: 0px;
    }

	.case:hover {
		background: rgb(0, 0, 0);
		border: 50px double white;
		transition-duration: 200ms;
		transform: translate(-50%, -50%);
		box-shadow: -2px 2px 5px rgba(121, 121, 121, 0.575);
    }

	.boite-dialogue {
        width: 600px;
        height: 400px;
        transform: translate(-50%, -50%);
        background: rgb(0, 0, 0);
        border:4px solid rgb(255, 255, 255);
	    border-radius: 25px;
	    position: absolute;
		top: 50vh;
		bottom: 50vh;
		left:50vw;
		right:50vw;
		display:none;
		transition-duration: 200ms;
    }

	.cadran-humidity{
		height: 180px;
		width: 180px;
		top:120px;
		left:120px;
		border-radius: 50%;
		border: 10px solid white;
		background-color: rgba(0, 0, 0, 0);
		display: inline-block;
		position: absolute;
		transform: translate(-50%, -50%);
		overflow: hidden;
	}
	.waves{
		/*height: 90px;*/
		width: 180px;
		left: 0%;
		bottom: 0%;
		background-color: turquoise;
		position:absolute;
	}
	</style>
	
	<body id="background" class="background">
		<div id="main" class="base">
            <button id='btn1' class="case"; style="top: 90px;left: 90px;"; onclick="pourcentage = temp[0]; caseActuelle = 1;showBox();"></button>
            <button id='btn2' class="case"; style="top: 90px;left: 260px;"; onclick="pourcentage = temp[1]; caseActuelle = 2;showBox();"></button>
            <button id='btn3' class="case"; style="top: 255px;left: 90px;"; onclick="pourcentage = temp[2]; caseActuelle = 3;showBox();"></button>
            <button id='btn4' class="case"; style="top: 255px;left: 260px;"; onclick="pourcentage = temp[3]; caseActuelle = 4;showBox();"></button>
            <button id='btn5' class="case"; style="top: 420px;left: 90px;"; onclick="pourcentage = temp[4]; caseActuelle = 5;showBox();"></button>
            <button id='btn6' class="case"; style="top: 420px; left: 260px;"; onclick="pourcentage = temp[5]; caseActuelle = 6;showBox();"></button>
        </div>
		<div id='dialog' class="boite-dialogue">
			<div class="cadran-humidity">
				<div id='pourcentage' style="color: rgb(255, 255, 255);font-weight: 900;font-size: 30px;font-family: Arial, Helvetica, sans-serif;text-align: center;top:50%;left:50%;position: absolute;transform: translate(-50%, -50%);z-index: 1;"></div>
				<div class="waves" style="height: pourcentage_px;"></div>
			</div>
			<div id='caseNumber' style="color: white; font-weight: 900;font-size: 35px;text-align: center;z-index: 2;font-family: Arial, Helvetica, sans-serif;top:1%;right: 1%;position: absolute;"></div>	
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 190px; width: 190px;transform: translate(-50%, -50%);top:50%;left:65%;position: relative;"><path d="M0 0h512v512H0z" fill="#000" fill-opacity="1"></path><g class="" transform="translate(0,0)" style="color: green;"><path d="M464.932 21.29C274.485 132.043-106.076-.603 69.61 354.474c11.676-12.52 24.432-24.32 37.908-35.48C67.722 262.93 54.24 199.74 90.232 154.392c-8.058 41.812 10.656 93.947 47.094 141.673 6.008-4.318 12.087-8.544 18.23-12.662 10.623-7.123 21.434-13.967 32.294-20.576-39.13-48.68-51.65-106.296-7.61-146.414-13.92 45.353 3.117 91.37 36.944 129.17 17.7-10.1 35.226-19.632 51.978-28.648-34.28-38.035-47.893-86.045-9.226-120.44-16.994 38.647.948 78.153 32.75 107.777 8.61-4.647 16.946-9.188 24.85-13.595 11.313-7.012 22.352-14.307 32.98-22.016-27.643-27.05-38.643-67.445 2.504-88.78-19.482 26.625-7.21 56.638 15.572 74.905 31.87-25.927 58.968-56.626 77.308-95.932-7.773 45.32-28.388 79.65-55.957 108.272 28.69 11.048 62.472 4.036 75.99-39.15-9.714 74.018-57.36 78.104-94.42 56.668-16.333 14.264-34.34 27.185-53.087 39.593 47.863 30.855 109.968 41.123 142.123 8.13-29.384 68.29-110.973 51.34-167.126 7.144-15.316 10.506-31.402 21.544-47.444 33.152 55.11 43.938 133.57 69.352 202.166 55.34-65.948 54.125-165.335 22.79-230.382-34.147-7.38 5.78-14.64 11.68-21.68 17.713-8.618 7.387-16.886 14.97-24.684 22.725 59.03 57.24 143.643 100.245 234.204 96.922-85.83 40.44-190.386-1.646-259.903-68.238-9.28 11.84-17.164 24.022-23.136 36.52-1.49 3.123-2.867 6.262-4.126 9.418C584.836 697.405 502.94 124.374 464.932 21.288zm-227.2 234.314c-24.016 13.397-48.39 27.648-71.77 43.324C94.374 346.923 33.86 406.27 23.024 485.322c5.26 3.375 14.588 7.464 26.88 9.916 13.06 2.605 29.48 3.515 47.915 1.71-12.04-37.794-7.385-73.55 7.88-105.505 16.808-35.178 45.69-66.18 78.222-94.062 17.278-14.808 35.602-28.676 53.81-41.776z" fill="green" fill-opacity="1"></path></g></svg>
		</div>


	</body>
</html>
